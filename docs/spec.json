{"externalDocs":{"description":"GitHub","url":"https://github.com/OpertusMundi/transform"},"info":{"contact":{"email":"pmitropoulos@getmap.gr"},"description":"A simple service to transform a spatial (vector or raster) file. Transformation includes reprojection into another spatial reference system (and resampling in case of raster reprojection) and/or change of the file format (e.g. Shapefile into CSV).","title":"Transform API","version":"0.1.0"},"openapi":"3.0.2","paths":{"/resource/{ticket}":{"get":{"description":"Returns the resource resulted from a transform request corresponding to a specific ticket.","parameters":[{"description":"The ticket of the request","in":"path","name":"ticket","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/x-tar":{"schema":{"format":"binary","type":"string"}}},"description":"The transformed compressed spatial file."},"404":{"description":"Ticket not found or transform has not been completed."},"507":{"description":"Resource does not exist."}},"summary":"Get the resource associated to a transform request.","tags":["Resource"]}},"/status/{ticket}":{"get":{"description":"Returns the status of a request corresponding to a specific ticket.","operationId":"getStatus","parameters":[{"description":"The ticket of the request","in":"path","name":"ticket","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"comment":{"description":"If transformation has failed, a short comment describing the reason.","type":"string"},"completed":{"description":"Whether transformation process has been completed or not.","type":"boolean"},"execution_time(s)":{"description":"The execution time in seconds.","type":"integer"},"requested":{"description":"The timestamp of the request.","format":"datetime","type":"string"},"success":{"description":"Whether transformation process completed succesfully.","type":"boolean"}},"type":"object"}}},"description":"Ticket found and status returned."},"404":{"description":"Ticket not found."}},"summary":"Get the status of a transform request.","tags":["Status"]}},"/transform":{"post":{"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"properties":{"format":{"description":"The expected format of the resulting file in the form of GDAL drivers short names. (See GDAL documentation for [vectors](https://gdal.org/drivers/vector/index.html) and [rasters](https://gdal.org/drivers/raster/index.html).) If not given, the source file format will be used.","type":"string"},"from":{"description":"The spatial file native CRS. If not given, it will be extracted from the data.","type":"string"},"resource":{"description":"The spatial file resolvable path.","type":"string"},"response":{"default":"prompt","description":"Determines whether the transform proccess should be promptly initiated (*prompt*) or queued (*deferred*). In the first case, the response waits for the result, in the second the response is immediate returning a ticket corresponding to the request.","enum":["prompt","deferred"],"type":"string"},"src_type":{"description":"The type of the spatial file (*vector* or *raster*).","enum":["vector","raster"],"type":"string"},"to":{"description":"The CRS that the spatial file will be projected into. If not given, no reprojection will take place.","type":"string"}},"required":["resource","src_type"],"type":"object"}},"multipart/form-data":{"schema":{"properties":{"format":{"description":"The expected format of the resulting file in the form of GDAL drivers short names. (See GDAL documentation for [vectors](https://gdal.org/drivers/vector/index.html) and [rasters](https://gdal.org/drivers/raster/index.html).) If not given, the source file format will be used.","type":"string"},"from":{"description":"The spatial file native CRS. If not given, it will be extracted from the data.","type":"string"},"resource":{"description":"The spatial file.","format":"binary","type":"string"},"response":{"default":"prompt","description":"Determines whether the transform proccess should be promptly initiated (*prompt*) or queued (*deferred*). In the first case, the response waits for the result, in the second the response is immediate returning a ticket corresponding to the request.","enum":["prompt","deferred"],"type":"string"},"src_type":{"description":"The type of the spatial file (*vector* or *raster*).","enum":["vector","raster"],"type":"string"},"to":{"description":"The CRS that the spatial file will be projected into. If not given, no reprojection will take place.","type":"string"}},"required":["resource","src_type"],"type":"object"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"filepath":{"description":"The resulting file path","type":"string"}},"type":"object"}},"application/x-tar":{"schema":{"format":"binary","type":"string"}}},"description":"Transform completed and returned."},"202":{"content":{"application/json":{"schema":{"oneOf":[{"properties":{"endpoint":{"description":"The *resource* endpoint to get the resulting resource when ready.","type":"string"},"status":{"description":"The *status* endpoint to poll for the status of the request.","type":"string"},"ticket":{"description":"The ticket corresponding to the request.","type":"string"}},"type":"object"},{"properties":{"filepath":{"description":"The *resource* endpoint to get the resultin resource when ready.","type":"string"},"ticket":{"description":"The ticket corresponding to the request.","type":"string"}},"type":"object"}]}}},"description":"Accepted for processing, but transform has not been completed.","links":{"GetStatus":{"description":"The `ticket` value returned in the response can be used as the `ticket` parameter in `GET /status/{ticket}`.","operationId":"getStatus","parameters":{"ticket":"$response.body#/ticket"}}}},"400":{"description":"Client error."}},"summary":"Transform a vector or raster file","tags":["Transform"]}}}}
